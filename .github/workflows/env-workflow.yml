name: Global ENV Variable

on: [push]

# ðŸŒŽ WORKFLOW LEVEL ENVIRONMENT VARIABLE
env:
  PROJECT_VERSION: 'v2.5.1-beta'
  ENVIRONMENT_TYPE: 'staging'
  
jobs:
  # 1. BUILD JOB
  build:
    runs-on: ubuntu-latest
    steps:
        
      - name: Report Build Version
        run: |
          echo "Building package for version: ${{ env.PROJECT_VERSION }}"
          echo "Configuration target: ${{ env.ENVIRONMENT_TYPE }}"
          
  # 2. TEST JOB
  test:
    runs-on: ubuntu-latest
    needs: [build]
    steps:

      - name: Run Tests
        run: |
          echo "--- Starting Tests ---"
          echo "Testing against code base: ${{ env.PROJECT_VERSION }}"
          echo "Running unit tests for ${{ env.ENVIRONMENT_TYPE }} environment..."
            

  # 3. DEPLOY JOB
  deploy:
    runs-on: ubuntu-latest
    needs: [test] 
    
    steps:

      - name: Deploy to Target Environment
        run: |
          echo "--- Deployment Started ---"
          echo "Deploying ${{ env.PROJECT_VERSION }} to ${{ env.ENVIRONMENT_TYPE }}..."
          

          echo "Deployment successful."